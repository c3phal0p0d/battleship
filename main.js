(()=>{var e={642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{displayCurrentPlayerTurn:()=>M,renderComputerMove:()=>C,renderGameScreen:()=>h,renderGameboard:()=>b,renderPlaceShipsBoard:()=>g,renderPlaceShipsScreen:()=>u});const a=r(643),n=r(417),o=[a("Carrier",5),a("Battleship",4),a("Destroyer",3),a("Submarine",3),a("Patrol Boat",2)],d=n();let l=!0,c=0,i=!1;function u(){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("h2");t.textContent="Place your ships",e.appendChild(t);const r=document.createElement("div");r.id="ship-type-container",e.appendChild(r);const a=document.createElement("h3");a.id="ship-type",r.appendChild(a),s(c);const n=document.createElement("div");n.classList.add("place-ships-container"),e.appendChild(n);const o=document.createElement("div");o.classList.add("board"),g(o),n.appendChild(o);const d=document.createElement("button");d.id="rotate-ship-button",d.addEventListener("click",(()=>{l=1!=l})),n.appendChild(d);const i=document.createElement("span");i.classList.add("material-symbols-outlined"),i.textContent="rotate_right",d.appendChild(i)}function s(e){document.querySelector("#ship-type").textContent=o[e].type}function m(e,t){let r=parseInt(t.getAttribute("data-row")),a=parseInt(t.getAttribute("data-column"));if(d.isValidShipPosition(r,a,e,l,d.player.gameboard))for(let n=0;n<e.length;n++)(t=l?document.querySelector(`[data-row="${r}"][data-column="${a+n}"]`):document.querySelector(`[data-row="${r+n}"][data-column="${a}"]`)).style.backgroundColor="#e5dace59"}function p(e,t){let r=parseInt(t.getAttribute("data-row")),a=parseInt(t.getAttribute("data-column"));if(d.isValidShipPosition(r,a,e,l,d.player.gameboard))for(let n=0;n<e.length;n++)(t=l?document.querySelector(`[data-row="${r}"][data-column="${a+n}"]`):document.querySelector(`[data-row="${r+n}"][data-column="${a}"]`)).style.backgroundColor="empty"==t.classList[0]?"#1e1c32":"#e5dace"}function y(e,t){let r=parseInt(t.getAttribute("data-row")),a=parseInt(t.getAttribute("data-column"));if(d.isValidShipPosition(r,a,e,l,d.player.gameboard)){d.addShipToBoard(r,a,e,l,d.player.gameboard);for(let n=0;n<e.length;n++)(t=l?document.querySelector(`[data-row="${r}"][data-column="${a+n}"]`):document.querySelector(`[data-row="${r+n}"][data-column="${a}"]`)).style.backgroundColor="#e5dace",t.style.border="0.5px solid #1e1c32",t.classList.remove("empty"),t.classList.add("hasShip");if(c==o.length-1)return document.querySelector("#ship-type-container").innerHTML="",i=!0,void function(){const e=document.querySelector("#ship-type-container"),t=document.createElement("button");t.id="play-button",t.textContent="Play!",t.addEventListener("click",(e=>h())),e.appendChild(t)}();c++,s(c)}}function g(e){let t;for(let r=0;r<10;r++)for(let a=0;a<10;a++)t=document.createElement("div"),t.classList.add("empty"),t.setAttribute("data-row",r),t.setAttribute("data-column",a),t.addEventListener("mouseover",(e=>{i||"empty"==e.currentTarget.classList[0]&&m(o[c],e.currentTarget)})),t.addEventListener("mouseout",(e=>{i||"empty"==e.currentTarget.classList[0]&&p(o[c],e.currentTarget)})),t.addEventListener("click",(e=>{i||"empty"==e.currentTarget.classList[0]&&y(o[c],e.currentTarget)})),e.appendChild(t)}function h(){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("div");t.id="boards-container",e.appendChild(t);const r=document.createElement("div");r.id="player-container",t.append(r);const a=document.createElement("h3");a.textContent="You",a.classList.add("current-player-turn"),r.appendChild(a);const n=document.createElement("div");n.classList.add("board"),n.classList.add("player"),b(d.player.gameboard,n),r.appendChild(n);const o=document.createElement("div");o.id="enemy-container",t.append(o);const l=document.createElement("h3");l.textContent="Computer",o.appendChild(l);const c=document.createElement("div");c.classList.add("board"),c.classList.add("enemy"),d.generateRandomShipPositions(d.enemy.gameboard),b(d.enemy.gameboard,c),o.appendChild(c);const i=document.createElement("div");i.id="current-player-turn",i.textContent="Make your move",e.appendChild(i)}function b(e,t){let r;for(let a=0;a<10;a++)for(let n=0;n<10;n++)r=document.createElement("div"),r.setAttribute("data-row",a),r.setAttribute("data-column",n),e==d.player.gameboard&&e.getSquare(a,n)&&"object"==typeof e.getSquare(a,n)&&(r.style.backgroundColor="#e5dace",r.style.border="0.5px solid #1e1c32"),r.addEventListener("mouseover",(t=>{e==d.enemy.gameboard&&f(t.currentTarget)})),r.addEventListener("mouseout",(t=>{e==d.enemy.gameboard&&S(t.currentTarget)})),r.addEventListener("click",(t=>{e==d.enemy.gameboard&&v(t.currentTarget)})),t.appendChild(r)}function f(e){let t=parseInt(e.getAttribute("data-row")),r=parseInt(e.getAttribute("data-column"));d.isValidMove(t,r,d.enemy.gameboard)&&(e.style.backgroundColor="#e5dace59")}function S(e){let t=parseInt(e.getAttribute("data-row")),r=parseInt(e.getAttribute("data-column"));d.isValidMove(t,r,d.enemy.gameboard)&&(e.style.backgroundColor="#1e1c32")}function v(e){let t=parseInt(e.getAttribute("data-row")),r=parseInt(e.getAttribute("data-column"));d.isValidMove(t,r,d.enemy.gameboard)&&(e.style.color="#e5dace",e.style.backgroundColor="#1e1c32",e.textContent="X",d.makeMove([t,r]),d.enemy.automatedAttack(d.player.gameboard))}function C(e,t){square.style.backgroundColor="#1e1c32",square.textContent="X"}function M(){document.querySelector("#current-player-turn").textContent="player"==d.currentPlayerTurn?"Make your move":"Computer is making its move..."}},417:(e,t,r)=>{const a=r(507),n=(r(498),r(643)),o=r(642);e.exports=()=>{const e=[n("Carrier",5),n("Battleship",4),n("Destroyer",3),n("Submarine",3),n("Patrol Boat",2)],t=a(),r=a();let d="player";const l=(e,t,r,a,n)=>{if(a&&t+r.length-1>9)return!1;if(!a&&e+r.length-1>9)return!1;for(let o=0;o<r.length;o++)if(a){if(null!=n.getSquare(e,t+o))return!1}else if(null!=n.getSquare(e+o,t))return!1;return!0},c=(e,t,r,a,n)=>{let o=[];for(let n=0;n<r.length;n++)a?o.push([e,t+n]):o.push([e+n,t]);n.placeShip(r,o)},i=(e=null)=>{console.log(d),"player"==d?(t.attack(r.gameboard,e),d="computer",o.displayCurrentPlayerTurn(),i()):(console.log("e"),r.automatedAttack(t.gameboard),d="player")};return{get player(){return t},get enemy(){return r},get currentPlayerTurn(){return d},set currentPlayerTurn(e){},generateRandomShipPositions:t=>{let r=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),n=1==Math.floor(2*Math.random());for(let o=0;o<e.length;o++){for(;!l(r,a,e[o],n,t);)r=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),n=1==Math.floor(2*Math.random());c(r,a,e[o],n,t)}},isValidShipPosition:l,addShipToBoard:c,isValidMove:(e,t,r)=>(console.log(d),"computer"!=d&&!("m"==r.getSquare(e,t)|"s"==r.getSquare(e,t))),makeMove:i}}},498:e=>{e.exports=()=>{let e=[],t=0,r=0;for(let t=0;t<10;t++){e[t]=[];for(let r=0;r<10;r++)e[t][r]=null}return{get missedAttacks(){return missedAttacks},get board(){return e},getSquare:(t,r)=>e[t][r],placeShip:(r,a)=>{for(let n=0;n<a.length;n++)coordinates=a[n],e[coordinates[0]][coordinates[1]]=r,t++},receiveAttack:t=>{let a=e[t[0]][t[1]];a&&"object"==typeof a?(a.hit(),a.isSunk&&(r++,e[t[0]][t[1]]="s")):e[t[0]][t[1]]="m"},allShipsSunk:()=>r==t}}},507:(e,t,r)=>{const a=r(498),n=r(642);e.exports=()=>{const e=a();return{get gameboard(){return e},attack:(e,t)=>{e.receiveAttack(t)},automatedAttack:e=>{console.log("ee");let t=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],r=e.getSquare(t[0],t[1]);for(;"m"==r|"s"==r;)t=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],r=e.getSquare(t[0],t[1]);setTimeout((function(){e.receiveAttack(t),n.displayCurrentPlayerTurn()}),2e3)}}}},643:e=>{e.exports=(e,t)=>{let r=0;return{get type(){return e},get length(){return t},hit:()=>{r++},isSunk:()=>t==r}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=r(642);const t=r(643),a=r(417);t("Carrier",5),t("Battleship",4),t("Destroyer",3),t("Submarine",3),t("Patrol Boat",2),a(),document.querySelector("#start-button").addEventListener("click",(t=>e.renderPlaceShipsScreen()))})()})();
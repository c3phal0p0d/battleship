(()=>{var e={642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{renderGameScreen:()=>g,renderGameboard:()=>b,renderPlaceShipsBoard:()=>h,renderPlaceShipsScreen:()=>s});const n=r(643),o=r(417),a=[n("Carrier",5),n("Battleship",4),n("Destroyer",3),n("Submarine",3),n("Patrol Boat",2)];let d=!0,c=0,i=!1;const l=o();function s(){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("h2");t.textContent="Place your ships",e.appendChild(t);const r=document.createElement("div");r.id="ship-type-container",e.appendChild(r);const n=document.createElement("h3");n.id="ship-type",r.appendChild(n),u(c);const o=document.createElement("div");o.classList.add("place-ships-container"),e.appendChild(o);const a=document.createElement("div");a.classList.add("board"),h(a),o.appendChild(a);const i=document.createElement("button");i.id="rotate-ship-button",i.addEventListener("click",(()=>{d=1!=d})),o.appendChild(i);const l=document.createElement("span");l.classList.add("material-symbols-outlined"),l.textContent="rotate_right",i.appendChild(l)}function u(e){document.querySelector("#ship-type").textContent=a[e].type}function p(e,t){let r=parseInt(t.getAttribute("data-row")),n=parseInt(t.getAttribute("data-column"));if(l.isValidShipPosition(r,n,e,d,l.player.gameboard))for(let o=0;o<e.length;o++)(t=d?document.querySelector(`[data-row="${r}"][data-column="${n+o}"]`):document.querySelector(`[data-row="${r+o}"][data-column="${n}"]`)).style.backgroundColor="#e5dace59"}function m(e,t){let r=parseInt(t.getAttribute("data-row")),n=parseInt(t.getAttribute("data-column"));if(l.isValidShipPosition(r,n,e,d,l.player.gameboard))for(let o=0;o<e.length;o++)(t=d?document.querySelector(`[data-row="${r}"][data-column="${n+o}"]`):document.querySelector(`[data-row="${r+o}"][data-column="${n}"]`)).style.backgroundColor="empty"==t.classList[0]?"#1e1c32":"#e5dace"}function y(e,t){let r=parseInt(t.getAttribute("data-row")),n=parseInt(t.getAttribute("data-column"));if(l.isValidShipPosition(r,n,e,d,l.player.gameboard)){l.addShipToBoard(r,n,e,d,l.player.gameboard);for(let o=0;o<e.length;o++)(t=d?document.querySelector(`[data-row="${r}"][data-column="${n+o}"]`):document.querySelector(`[data-row="${r+o}"][data-column="${n}"]`)).style.backgroundColor="#e5dace",t.style.border="0.5px solid #1e1c32",t.classList.remove("empty"),t.classList.add("hasShip");if(c==a.length-1)return document.querySelector("#ship-type-container").innerHTML="",i=!0,void function(){const e=document.querySelector("#ship-type-container"),t=document.createElement("button");t.id="play-button",t.textContent="Play!",t.addEventListener("click",(e=>g())),e.appendChild(t)}();c++,u(c)}}function h(e){let t;for(let r=0;r<10;r++)for(let n=0;n<10;n++)t=document.createElement("div"),t.classList.add("empty"),t.setAttribute("data-row",r),t.setAttribute("data-column",n),t.addEventListener("mouseover",(e=>{i||"empty"==e.currentTarget.classList[0]&&p(a[c],e.currentTarget)})),t.addEventListener("mouseout",(e=>{i||"empty"==e.currentTarget.classList[0]&&m(a[c],e.currentTarget)})),t.addEventListener("click",(e=>{i||"empty"==e.currentTarget.classList[0]&&y(a[c],e.currentTarget)})),e.appendChild(t)}function g(){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("div");t.id="boards-container",e.appendChild(t);const r=document.createElement("div");r.id="player-container",t.append(r);const n=document.createElement("h3");n.textContent="You",r.appendChild(n);const o=document.createElement("div");o.classList.add("board"),o.classList.add("player"),b(l.player.gameboard,o),r.appendChild(o);const a=document.createElement("div");a.id="enemy-container",t.append(a);const d=document.createElement("h3");d.textContent="Computer",a.appendChild(d);const c=document.createElement("div");c.classList.add("board"),c.classList.add("enemy"),b(l.enemy.gameboard,c),a.appendChild(c)}function b(e,t){let r;for(let n=0;n<10;n++)for(let o=0;o<10;o++)r=document.createElement("div"),r.setAttribute("data-row",n),r.setAttribute("data-column",o),e.getSquare(n,o)&&"object"==typeof e.getSquare(n,o)&&(r.style.backgroundColor="#e5dace",r.style.border="0.5px solid #1e1c32"),t.appendChild(r)}},417:(e,t,r)=>{const n=r(507),o=(r(498),r(643));r(642),e.exports=()=>{o("Carrier",5),o("Battleship",4),o("Destroyer",3),o("Submarine",3),o("Patrol Boat",2);const e=n(),t=n();return{get player(){return e},get enemy(){return t},addShipToBoard:(e,t,r,n,o)=>{let a=[];for(let o=0;o<r.length;o++)n?a.push([e,t+o]):a.push([e+o,t]);o.placeShip(r,a)},isValidShipPosition:(e,t,r,n,o)=>{if(n&&t+r.length-1>9)return!1;if(!n&&e+r.length-1>9)return!1;for(let a=0;a<r.length;a++)if(n){if(null!=o.getSquare(e,t+a))return!1}else if(null!=o.getSquare(e+a,t))return!1;return!0}}}},498:e=>{e.exports=()=>{let e=[],t=0,r=0;for(let t=0;t<10;t++){e[t]=[];for(let r=0;r<10;r++)e[t][r]=null}return{get missedAttacks(){return missedAttacks},get board(){return e},getSquare:(t,r)=>e[t][r],placeShip:(r,n)=>{for(let o=0;o<n.length;o++)coordinates=n[o],e[coordinates[0]][coordinates[1]]=r,t++},receiveAttack:t=>{let n=e[t[0]][t[1]];n&&"object"==typeof n?(n.hit(),n.isSunk&&(r++,e[t[0]][t[1]]="s")):e[t[0]][t[1]]="m"},allShipsSunk:()=>r==t}}},507:(e,t,r)=>{const n=r(498);e.exports=()=>{const e=n();return{get gameboard(){return e},makeMove:(e,t)=>{e.receiveAttack(t)}}}},643:e=>{e.exports=(e,t)=>{let r=0;return{get type(){return e},get length(){return t},hit:()=>{r++},isSunk:()=>t==r}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=r(642);document.querySelector("#start-button").addEventListener("click",(t=>e.renderPlaceShipsScreen()))})()})();
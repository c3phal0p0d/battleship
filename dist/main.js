(()=>{var e={642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{renderGameScreen:()=>g,renderGameboard:()=>f,renderPlaceShipsBoard:()=>y,renderPlaceShipsScreen:()=>s});const n=r(643),a=r(417),o=[n("Carrier",5),n("Battleship",4),n("Destroyer",3),n("Submarine",3),n("Patrol Boat",2)],d=a();let c=!0,l=0,i=!1;function s(){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("h2");t.textContent="Place your ships",e.appendChild(t);const r=document.createElement("div");r.id="ship-type-container",e.appendChild(r);const n=document.createElement("h3");n.id="ship-type",r.appendChild(n),u(l);const a=document.createElement("div");a.classList.add("place-ships-container"),e.appendChild(a);const o=document.createElement("div");o.classList.add("board"),y(o),a.appendChild(o);const d=document.createElement("button");d.id="rotate-ship-button",d.addEventListener("click",(()=>{c=1!=c})),a.appendChild(d);const i=document.createElement("span");i.classList.add("material-symbols-outlined"),i.textContent="rotate_right",d.appendChild(i)}function u(e){document.querySelector("#ship-type").textContent=o[e].type}function p(e,t){let r=parseInt(t.getAttribute("data-row")),n=parseInt(t.getAttribute("data-column"));if(d.isValidShipPosition(r,n,e,c,d.player.gameboard))for(let a=0;a<e.length;a++)(t=c?document.querySelector(`[data-row="${r}"][data-column="${n+a}"]`):document.querySelector(`[data-row="${r+a}"][data-column="${n}"]`)).style.backgroundColor="#e5dace59"}function m(e,t){let r=parseInt(t.getAttribute("data-row")),n=parseInt(t.getAttribute("data-column"));if(d.isValidShipPosition(r,n,e,c,d.player.gameboard))for(let a=0;a<e.length;a++)(t=c?document.querySelector(`[data-row="${r}"][data-column="${n+a}"]`):document.querySelector(`[data-row="${r+a}"][data-column="${n}"]`)).style.backgroundColor="empty"==t.classList[0]?"#1e1c32":"#e5dace"}function h(e,t){let r=parseInt(t.getAttribute("data-row")),n=parseInt(t.getAttribute("data-column"));if(d.isValidShipPosition(r,n,e,c,d.player.gameboard)){d.addShipToBoard(r,n,e,c,d.player.gameboard);for(let a=0;a<e.length;a++)(t=c?document.querySelector(`[data-row="${r}"][data-column="${n+a}"]`):document.querySelector(`[data-row="${r+a}"][data-column="${n}"]`)).style.backgroundColor="#e5dace",t.style.border="0.5px solid #1e1c32",t.classList.remove("empty"),t.classList.add("hasShip");if(l==o.length-1)return document.querySelector("#ship-type-container").innerHTML="",i=!0,void function(){const e=document.querySelector("#ship-type-container"),t=document.createElement("button");t.id="play-button",t.textContent="Play!",t.addEventListener("click",(e=>g())),e.appendChild(t)}();l++,u(l)}}function y(e){let t;for(let r=0;r<10;r++)for(let n=0;n<10;n++)t=document.createElement("div"),t.classList.add("empty"),t.setAttribute("data-row",r),t.setAttribute("data-column",n),t.addEventListener("mouseover",(e=>{i||"empty"==e.currentTarget.classList[0]&&p(o[l],e.currentTarget)})),t.addEventListener("mouseout",(e=>{i||"empty"==e.currentTarget.classList[0]&&m(o[l],e.currentTarget)})),t.addEventListener("click",(e=>{i||"empty"==e.currentTarget.classList[0]&&h(o[l],e.currentTarget)})),e.appendChild(t)}function g(){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("div");t.id="boards-container",e.appendChild(t);const r=document.createElement("div");r.id="player-container",t.append(r);const n=document.createElement("h3");n.textContent="You",r.appendChild(n);const a=document.createElement("div");a.classList.add("board"),a.classList.add("player"),f(d.player.gameboard,a),r.appendChild(a);const o=document.createElement("div");o.id="enemy-container",t.append(o);const c=document.createElement("h3");c.textContent="Computer",o.appendChild(c);const l=document.createElement("div");l.classList.add("board"),l.classList.add("enemy"),d.generateRandomShipPositions(d.enemy.gameboard),f(d.enemy.gameboard,l),o.appendChild(l)}function f(e,t){let r;for(let n=0;n<10;n++)for(let a=0;a<10;a++)r=document.createElement("div"),r.setAttribute("data-row",n),r.setAttribute("data-column",a),e.getSquare(n,a)&&"object"==typeof e.getSquare(n,a)&&(r.style.backgroundColor="#e5dace",r.style.border="0.5px solid #1e1c32"),t.appendChild(r)}},417:(e,t,r)=>{const n=r(507),a=(r(498),r(643));r(642),e.exports=()=>{const e=[a("Carrier",5),a("Battleship",4),a("Destroyer",3),a("Submarine",3),a("Patrol Boat",2)],t=n(),r=n(),o=(e,t,r,n,a)=>{let o=[];for(let a=0;a<r.length;a++)n?o.push([e,t+a]):o.push([e+a,t]);a.placeShip(r,o)},d=(e,t,r,n,a)=>{if(n&&t+r.length-1>9)return!1;if(!n&&e+r.length-1>9)return!1;for(let o=0;o<r.length;o++)if(n){if(null!=a.getSquare(e,t+o))return!1}else if(null!=a.getSquare(e+o,t))return!1;return!0};return{get player(){return t},get enemy(){return r},generateRandomShipPositions:t=>{let r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),a=1==Math.floor(2*Math.random());for(let c=0;c<e.length;c++){for(;!d(r,n,e[c],a,t);)r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),a=1==Math.floor(2*Math.random());o(r,n,e[c],a,t)}},addShipToBoard:o,isValidShipPosition:d}}},498:e=>{e.exports=()=>{let e=[],t=0,r=0;for(let t=0;t<10;t++){e[t]=[];for(let r=0;r<10;r++)e[t][r]=null}return{get missedAttacks(){return missedAttacks},get board(){return e},getSquare:(t,r)=>e[t][r],placeShip:(r,n)=>{for(let a=0;a<n.length;a++)coordinates=n[a],e[coordinates[0]][coordinates[1]]=r,t++},receiveAttack:t=>{let n=e[t[0]][t[1]];n&&"object"==typeof n?(n.hit(),n.isSunk&&(r++,e[t[0]][t[1]]="s")):e[t[0]][t[1]]="m"},allShipsSunk:()=>r==t}}},507:(e,t,r)=>{const n=r(498);e.exports=()=>{const e=n();return{get gameboard(){return e},attack:(e,t)=>{e.receiveAttack(t)},automatedAttack:e=>{let t=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],r=e.getSquare(t[0],t[1]);for(;"m"!=r&&"s"!=r;)t=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],r=e.getSquare(t[0],t[1]);e.receiveAttack(t)}}}},643:e=>{e.exports=(e,t)=>{let r=0;return{get type(){return e},get length(){return t},hit:()=>{r++},isSunk:()=>t==r}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=r(642);document.querySelector("#start-button").addEventListener("click",(t=>e.renderPlaceShipsScreen()))})()})();